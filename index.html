<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Points Bank | 家庭教養點數系統</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">
    <link rel="icon" href="./public/logo.png" type="image/png">
    <link rel="manifest" href="manifest.json">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --bg: #fdfcf9;
            --ink: #2d2d2d;
            --muted: #7a7a7a;
            --accent: #ff8a80;
            --accent-soft: #fff5f3;
            --paper: #ffffff;
            --deco: #e8e1d9;
            --shadow: rgba(0, 0, 0, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Noto Sans TC", sans-serif;
            background-color: var(--bg);
            color: var(--ink);
            line-height: 1.75;
            letter-spacing: 0.02em;
            -webkit-font-smoothing: antialiased;
            background-image:
                radial-gradient(circle, #d8d0c8 1.5px, transparent 1.5px);
            background-size: 30px 30px;
            background-position: 0 0;
        }

        h1,
        h2,
        h3,
        h4 {
            font-weight: 900;
            line-height: 1.3;
        }

        p {
            font-weight: 300;
            color: #555;
            line-height: 1.9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 3rem;
        }

        /* === HERO SECTION === */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding: 8rem 0 6rem;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 6rem;
            align-items: center;
        }

        .hero-content {
            max-width: 580px;
        }

        .hero-tag {
            font-size: 0.7rem;
            font-weight: 700;
            color: var(--muted);
            letter-spacing: 0.35em;
            margin-bottom: 2rem;
            display: block;
            text-transform: uppercase;
        }

        .badge {
            display: inline-block;
            padding: 0.6rem 1.8rem;
            margin-bottom: 2.5rem;
            position: relative;
            font-weight: 900;
            font-size: 0.88rem;
        }

        .badge svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            fill: none;
            stroke: var(--ink);
            stroke-width: 2;
            z-index: -1;
        }

        h1 {
            font-size: clamp(2.8rem, 5vw, 4.5rem);
            margin-bottom: 2rem;
            letter-spacing: -0.02em;
        }

        .highlight {
            position: relative;
            display: inline-block;
        }

        .highlight::after {
            content: "";
            position: absolute;
            left: -3%;
            bottom: 0.3em;
            width: 106%;
            height: 0.35em;
            background: var(--accent);
            opacity: 0.4;
            z-index: -1;
            border-radius: 2px;
        }

        .hero-desc {
            font-size: 1.15rem;
            color: var(--muted);
            margin-bottom: 3.5rem;
            line-height: 1.85;
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            background: var(--ink);
            color: white;
            padding: 1.3rem 3rem;
            border-radius: 100px;
            text-decoration: none;
            font-weight: 900;
            font-size: 1.05rem;
            transition: all 0.3s ease;
            box-shadow: 6px 6px 0 var(--deco);
        }

        .btn-primary:hover {
            transform: translate(-2px, -2px);
            box-shadow: 10px 10px 0 var(--accent-soft);
        }

        .hero-meta {
            display: flex;
            gap: 2.5rem;
            margin-top: 2.5rem;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }

        .hero-meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Hero Visual */
        .hero-visual {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .visual-wrapper {
            position: relative;
            width: 100%;
            max-width: 420px;
        }

        .visual-wrapper img {
            width: 100%;
            height: auto;
            border-radius: 50% 40% 60% 50% / 60% 50% 50% 40%;
            border: 2.5px solid var(--ink);
            background: white;
            padding: 1rem;
            box-shadow:
                12px 12px 0 var(--deco),
                0 20px 40px var(--shadow);
            transition: all 0.4s ease;
        }

        .visual-wrapper:hover img {
            transform: scale(1.02);
            border-radius: 40% 50% 50% 60% / 50% 60% 40% 50%;
        }

        /* Decorative Elements */
        .deco {
            position: absolute;
            pointer-events: none;
            opacity: 0.6;
        }

        /* === FEATURES SECTION === */
        .section {
            padding: 8rem 0;
            position: relative;
        }

        .section-header {
            text-align: center;
            margin-bottom: 6rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .section-badge {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            margin-bottom: 2rem;
            position: relative;
            font-weight: 900;
            font-size: 1.3rem;
        }

        .section-badge svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            fill: none;
            stroke: var(--ink);
            stroke-width: 2;
            z-index: -1;
        }

        .section-desc {
            font-size: 1.1rem;
            color: var(--muted);
            line-height: 1.8;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
        }

        .feature-card {
            background: white;
            padding: 3.5rem 2.5rem;
            border: 2px solid var(--ink);
            border-radius: 35px 15px 40px 20px;
            transition: all 0.35s ease;
            position: relative;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 8px 8px 0 var(--accent-soft);
        }

        .feature-icon {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #fff5f3 0%, #ffe8e3 100%);
            position: relative;
            transition: all 0.3s ease;
        }

        .feature-icon::before {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent) 0%, #ffb3ad 100%);
            opacity: 0.15;
            z-index: -1;
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 1.2rem;
        }

        .feature-card p {
            font-size: 0.98rem;
            line-height: 1.75;
        }

        /* === PHILOSOPHY SECTION === */
        .philosophy {
            background: white;
            border-top: 1px solid #f0f0f0;
        }

        .philosophy-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8rem;
            align-items: flex-start;
        }

        .philosophy h2 {
            font-size: 2.5rem;
            margin-bottom: 4rem;
            line-height: 1.35;
        }

        .philosophy-item {
            margin-bottom: 3.5rem;
        }

        .philosophy-item h3 {
            font-size: 1.25rem;
            color: var(--accent);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .philosophy-item p {
            font-size: 1.05rem;
            line-height: 1.85;
        }

        /* === CTA SECTION === */
        .cta {
            background: var(--bg);
        }

        .cta-box {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: clamp(2.5rem, 8vw, 5rem) clamp(1.5rem, 5vw, 4rem);
            background: white;
            border: 2.5px solid var(--ink);
            border-radius: 40px;
            position: relative;
            box-shadow: 0 30px 60px var(--shadow);
        }

        .cta-box h3 {
            font-size: 2rem;
            margin-bottom: 2.5rem;
            line-height: 1.4;
        }

        /* === FOOTER === */
        footer {
            padding: 6rem 0;
            text-align: center;
            border-top: 1px dashed var(--deco);
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: 900;
            letter-spacing: 0.2em;
            margin-bottom: 2rem;
        }

        footer p {
            font-size: 0.95rem;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 700;
        }

        .footer-copy {
            margin-top: 3rem;
            font-size: 0.75rem;
            color: var(--muted);
            letter-spacing: 0.2em;
            font-weight: 700;
        }

        /* === RESPONSIVE === */
        @media (max-width: 1024px) {

            .hero-grid,
            .philosophy-grid {
                grid-template-columns: 1fr;
                gap: 4rem;
            }

            .hero-visual {
                order: -1;
            }

            .hero-content {
                text-align: center;
                max-width: 100%;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .container {
                padding: 0 clamp(1.2rem, 4vw, 2rem);
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 4rem 0;
            }

            h1 {
                font-size: 2.5rem;
            }

            .section {
                padding: 5rem 0;
            }

            .container {
                padding: 0 1.5rem;
            }

            /* 手機版統計數字改為單欄 */
            .hero-content>div[style*="grid-template-columns: repeat(3"] {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }

            /* 系統功能卡片改為單欄 */
            div[style*="grid-template-columns: repeat(2, 1fr)"] {
                grid-template-columns: 1fr !important;
            }

            /* 底部貼心細節改為單欄 */
            div[style*="grid-template-columns: repeat(3, 1fr)"] {
                grid-template-columns: 1fr !important;
            }

            /* 調整卡片padding */
            .feature-card {
                padding: 2.5rem 1.8rem;
            }

            /* 調整section標題 */
            .section-header h2,
            h2 {
                font-size: 2rem !important;
            }

            /* FAQ項目padding調整 */
            .faq-item {
                padding: 1.2rem !important;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .btn-primary {
                padding: 1rem 2rem;
                font-size: 0.95rem;
            }

            .hero-tag {
                font-size: 0.65rem;
            }

            /* 更小螢幕的統計數字字體 */
            .hero-content div[style*="font-size: 2.5rem"] {
                font-size: 2rem !important;
            }
        }

        /* === FAQ STYLES === */
        .faq-item {
            cursor: pointer;
            margin-bottom: 1rem;
            padding: 1.5rem;
            background: white;
            border-radius: 15px;
            border: 2px solid var(--deco);
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            border-color: var(--accent);
            box-shadow: 0 4px 12px rgba(255, 138, 128, 0.15);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 0;
        }

        .faq-item.active .faq-answer {
            max-height: 300px !important;
        }

        .faq-item.active i[data-lucide="chevron-down"] {
            transform: rotate(180deg);
        }

        .faq-item i {
            transition: transform 0.3s ease;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2) rotate(5deg);
            }
        }

        @keyframes deep-pulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.4;
                transform: scale(0.85);
            }
        }

        /* === NAVIGATION BAR === */
        .navbar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(253, 252, 249, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--ink);
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 900;
            font-size: 1.4rem;
            color: var(--ink);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            align-items: center;
            list-style: none;
        }

        @keyframes popIn {
            0% {
                transform: scale(0.9);
                opacity: 0;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes slideUp {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }

            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .animate-pop-in {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .animate-slide-up {
            animation: slideUp 0.5s ease-out forwards;
        }

        .nav-links a {
            color: var(--ink);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--accent);
        }

        .nav-cta {
            background: var(--accent);
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-cta:hover {
            background: white;
            color: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 138, 128, 0.3);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            padding: 0.5rem;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: var(--ink);
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translateY(8px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translateY(-8px);
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 70px;
                left: -100%;
                flex-direction: column;
                background: var(--bg);
                width: 100%;
                padding: 2rem;
                gap: 1.5rem;
                border-bottom: 2px solid var(--ink);
                transition: left 0.3s ease;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .nav-links.active {
                left: 0;
            }

            .hamburger {
                display: flex;
            }

            .nav-cta {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <!-- NAVIGATION BAR -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#" class="nav-brand">
                <img src="./public/logo.png" alt="Points Bank Logo" style="width: 32px; height: 32px;">
                Points Bank
            </a>

            <ul class="nav-links" id="navLinks">
                <li><a href="#about">核心理念</a></li>
                <li><a href="#system">系統功能</a></li>
                <li><a href="#demo">體驗 Demo</a></li>
                <li><a href="family-meeting.html">家庭會議室</a></li>
                <li><a href="https://points-bank.vercel.app" class="nav-cta">
                        進入系統
                        <i data-lucide="arrow-right" size="16"></i>
                    </a></li>
            </ul>

            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
    <!-- HERO SECTION -->
    <section class="hero">
        <svg class="deco" style="top: 8%; left: 3%; width: 100px;" viewBox="0 0 100 100">
            <path d="M10,30 Q40,70 80,20 T95,50" fill="none" stroke="var(--deco)" stroke-width="2"
                stroke-linecap="round" />
        </svg>

        <div class="container">
            <div class="hero-grid">
                <div class="hero-content">
                    <span class="hero-tag">Built for Families</span>

                    <div class="badge">
                        <svg viewBox="0 0 100 100" preserveAspectRatio="none">
                            <path d="M5,15 C35,8 65,20 95,12 C93,45 97,70 95,88 C65,95 35,82 5,88 C7,70 3,45 5,15" />
                        </svg>
                        建立家庭專屬的教養契約
                    </div>

                    <h1>
                        練習「<span class="highlight">選擇</span>」的<br>
                        點數存摺系統
                    </h1>

                    <p class="hero-desc">
                        在這個處處都是「現在就要」的時代，Points Bank
                        為孩子打造一個安全的練習場：今天把螢幕時間「存起來」，換取明天更大的快樂。透過延遲滿足的練習，讓孩子學會規劃、學會等待、學會為自己的選擇負責。
                    </p>

                    <a href="https://points-bank.vercel.app" class="btn-primary">
                        開啟家庭入口
                        <i data-lucide="arrow-right" size="20"></i>
                    </a>

                    <div class="hero-meta">
                        <span>
                            <i data-lucide="cloud" size="16"></i>
                            雲端同步
                        </span>
                        <span>
                            <i data-lucide="shield-check" size="16"></i>
                            安全管理
                        </span>
                    </div>

                    <!-- 互動式統計數據 -->
                    <div
                        style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-top: 3rem; padding-top: 3rem; border-top: 1px dashed var(--deco);">
                        <div style="text-align: center;">
                            <div
                                style="font-size: 2.5rem; font-weight: 900; color: var(--accent); margin-bottom: 0.5rem;">
                                <span data-counter data-target="30">0</span>秒
                            </div>
                            <div style="font-size: 0.85rem; color: var(--muted); font-weight: 700;">平均上手時間</div>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="font-size: 2.5rem; font-weight: 900; color: var(--accent); margin-bottom: 0.5rem;">
                                <span data-counter data-target="100">0</span>%
                            </div>
                            <div style="font-size: 0.85rem; color: var(--muted); font-weight: 700;">雲端同步可靠度</div>
                        </div>
                        <div style="text-align: center;">
                            <div
                                style="font-size: 2.5rem; font-weight: 900; color: var(--accent); margin-bottom: 0.5rem;">
                                ∞
                            </div>
                            <div style="font-size: 0.85rem; color: var(--muted); font-weight: 700;">成員數量上限</div>
                        </div>
                    </div>
                </div>

                <div class="hero-visual">
                    <div class="visual-wrapper">
                        <img src="./public/sofa_scene.png" alt="親子共處時光">

                        <svg class="deco" style="bottom: -30px; left: -20px; width: 70px;" viewBox="0 0 100 100">
                            <path d="M10,10 Q50,40 90,90 M90,90 L72,86 M90,90 L86,70" fill="none" stroke="var(--ink)"
                                stroke-width="2.5" stroke-linecap="round" />
                        </svg>
                    </div>
                </div>
            </div>
    </section>

    <!-- TARGET AUDIENCE INTRO -->
    <section class="section" id="about" style="background: var(--accent-soft); padding: 6rem 0;">
        <div class="container">
            <div style="max-width: 900px; margin: 0 auto; text-align: center;">
                <div style="margin-bottom: 2.5rem;">
                    <h2
                        style="font-weight: 900; font-size: 1.8rem; display: flex; align-items: center; justify-content: center; gap: 0.8rem; color: var(--ink);">
                        <i data-lucide="users" size="32"></i>
                        為選擇「有管理的開放」的家庭設計
                    </h2>
                </div>

                <p style="font-size: 1.15rem; line-height: 2; color: #444; margin-bottom: 2rem;">
                    每個家庭對數位設備的態度都不同。有些家庭選擇完全隔絕 3C，這是他們的教養選擇，我們尊重。但也有越來越多的現代家長認為：<strong>完全禁止不是唯一解答</strong>。根據<a
                        href="https://www.aap.org/en/patient-care/media-and-children/" target="_blank"
                        style="color: var(--accent); text-decoration: underline; font-weight: 700;">美國兒科醫學會 (AAP)
                        的最新指引</a>，6 歲以上兒童的螢幕時間 <em>不需要完全禁止</em>，重點在於：① 內容品質、② 使用時段、③ 是否擠壓其他重要活動。
                </p>

                <div
                    style="background: white; padding: 3rem; border-radius: 30px; border: 2px solid var(--ink); box-shadow: 8px 8px 0 var(--deco); text-align: left;">
                    <p style="font-size: 1.05rem; margin-bottom: 1.5rem; font-weight: 500; color: var(--ink);">
                        許多家長選擇給予孩子有限度的螢幕時間，是基於以下現代教養觀念：</p>
                    <ul style="margin-left: 1.5rem; line-height: 2; color: #555; font-size: 1.05rem;">
                        <li><strong>數位素養是必須技能</strong>：孩子未來會面對一個高度數位化的世界，完全隔絕可能讓他們缺乏必要的媒體識讀能力。</li>
                        <li><strong>社交連結的需求</strong>：同學之間的共同話題很多來自數位內容，適度接觸能幫助孩子融入同儕團體。</li>
                        <li><strong>現實可行性</strong>：雙薪家庭、需要工作或家事的父母，很難全天候準備替代活動。</li>
                        <li><strong>教會「管理」比「禁止」更重要</strong>：與其讓孩子長大後失控，不如現在就教他們如何自我管理。</li>
                    </ul>
                </div>

                <p style="font-size: 1.25rem; font-weight: 700; margin-top: 3rem; color: var(--ink);">
                    <strong>Points Bank 就是為這群「選擇給予有限度自由」的家長打造。</strong><br>
                    <span
                        style="font-weight: 400; font-size: 1.05rem; color: var(--muted); margin-top: 0.5rem; display: inline-block;">如果您相信螢幕時間可以是生活的一部分，但需要被有意識地管理，這個系統是您的得力工具。</span>
                </p>
            </div>
        </div>
    </section>

    <!-- FEATURES SECTION -->
    <section class="section" id="features" style="background: white; border-top: 1px solid #f0f0f0;">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">
                    <svg viewBox="0 0 200 80" preserveAspectRatio="none">
                        <path d="M5,12 C70,4 140,18 195,10 C197,32 193,58 195,68 C140,78 70,72 5,75 C7,58 3,32 5,12 Z"
                            fill="none" stroke="var(--ink)" stroke-width="2" />
                    </svg>
                    核心教養邏輯
                </div>
                <p class="section-desc">
                    不是用家事或作業來「賺」點數，而是讓孩子練習「今天先不玩，時間存起來換更棒的東西」。核心是延遲滿足的訓練，而非把日常責任變成交易。
                </p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="brain" size="28"></i>
                    </div>
                    <h3>「今天存起來，週末加倍享受」</h3>
                    <p>還記得那個經典的「棉花糖實驗」嗎？能等待的孩子，未來成就往往更高。Points Bank 就是把這個概念帶進日常：今天本來可以看 30 分鐘 YouTube，但孩子選擇只看 10 分鐘，把剩下的
                        20 分鐘「存成點數」。週末時，用這些存款換一場 2 小時的電影院之旅。當孩子學會「忍住現在的小確幸、換取未來的大滿足」，他們的前額葉正在悄悄變強，這是比任何說教都有效的「延遲滿足」訓練。
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="heart" size="28"></i>
                    </div>
                    <h3>看得見的自制力成果</h3>
                    <p>想像一下：孩子打開 App，看到自己這週成功「沒用完」的螢幕時間已經累積了 50
                        點。這些都是他一次次說「我今天不看了，要存起來」換來的。這種「我看得到自己克制的成果」的透明感，比家長碎碎念有效一百倍。當孩子知道每一次的忍耐都被看見、被記錄、能累積成更大的快樂，他們會主動思考：「我今天真的要把配額用完嗎？還是存一點？」這種內在驅動的自律，才是真正長久的教養成果。
                    </p>
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-lucide="coins" size="28"></i>
                    </div>
                    <h3>從「時間銀行」學資源配置</h3>
                    <p>今天省下的 20 分鐘螢幕時間，可以存成點數，存到 200
                        點就可以換那個心心念念的樂高。孩子會開始思考：「我真的要現在就看完今天的配額嗎？還是存起來換更想要的東西？」這種「時間也可以儲蓄、也有利息」的概念，正是經濟學的核心——在有限資源中，學會延遲、累積、交換，找到最適配自己需求的方案。
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- PHILOSOPHY SECTION -->
    <section class="section philosophy" id="philosophy">
        <div class="container">
            <div class="philosophy-grid">
                <div>
                    <h2>
                        為什麼我們強調<br>
                        <span class="highlight">「有條件的」自由</span>？
                    </h2>

                    <div class="philosophy-item">
                        <h3>
                            <i data-lucide="message-circle" size="22"></i>
                            把「可不可以」變成「帳本上有多少」
                        </h3>
                        <p>
                            「媽媽我可以玩遊戲嗎？」「你帳戶還有 30 點，可以換 20
                            分鐘喔。」對話從此不再是權力鬥爭，而是查帳本、做決定。孩子看得到自己的「財富」，知道這是他們一次次克制累積來的成果，爭取的方式從哭鬧變成了「那我今天就不看
                            YouTube，把配額存起來」。
                        </p>
                    </div>


                    <div class="philosophy-item">
                        <h3>
                            <i data-lucide="lightbulb" size="22"></i>
                            為什麼不建議用「做家事、寫作業」賺點數？
                        </h3>
                        <p>
                            這是我們設計時的重要決定：<strong>日常責任不應該被獎勵制度綁架</strong>。寫作業、整理房間、幫忙家事，這些是「身為家庭一份子」該做的事，不該變成交易。如果什麼都要點數才做，孩子會失去內在的責任感。因此，Points
                            Bank 的核心機制是：<strong>用「今天省下的螢幕時間」換點數</strong>。例如：今天配額是 30 分鐘，孩子只用了 10 分鐘就主動關掉，剩下的 20
                            分鐘自動轉成點數儲蓄。這樣訓練的是「自我克制」，而非「凡事都要報酬」。當然，偶爾在特殊情況下（例如需要孩子額外幫忙大掃除），家長可以彈性給予獎勵點數，但那是例外，不是常態。
                        </p>
                    </div>
                </div>
                <div>
                    <div class="philosophy-item">
                        <h3>
                            <i data-lucide="target" size="22"></i>
                            核心訓練：延遲滿足，而非交易心態
                        </h3>
                        <p>
                            正因為我們深知「外在獎勵可能破壞內在動機」的風險，所以 Points Bank
                            的設計刻意避開了「做X得Y」的交易模式。我們訓練的核心能力是：<strong>延遲滿足</strong>。每天孩子都有固定的螢幕時間配額（例如平日 30
                            分鐘），但他可以選擇「今天不用完，存起來」。這個選擇的過程，就是在訓練大腦的自我控制迴路。研究顯示，能夠延遲滿足的孩子，在學業、人際、情緒管理上都有更好的表現。Points Bank
                            不是要把生活變成遊戲化的積分制，而是提供一個<strong>「看得見、摸得著」的延遲滿足練習場</strong>。隨著孩子長大，這個「輔助輪」可以逐漸移除，但訓練出的自制力會一直留下。
                        </p>
                    </div>
                    <div class="philosophy-item">
                        <h3>
                            <i data-lucide="cloud-upload" size="22"></i>
                            爸媽不會「不同調」的秘密
                        </h3>
                        <p>
                            「媽媽說我還有 20 點，但爸爸說我已經用完了⋯⋯」這種場景是不是很熟悉？雲端即時同步的設計，讓全家人看到的數字永遠一致。不管是爸爸用手機記、媽媽用平板查，或阿嬤在客廳更新，系統
                            0.5 秒內就對齊。孩子學到的是：規則是穩定的、可預測的，而不是「看今天誰心情好」。
                        </p>
                    </div>

                    <div class="philosophy-item">
                        <h3>
                            <i data-lucide="lock" size="22"></i>
                            銀行級的安全，教養的權威感
                        </h3>
                        <p>
                            就像真正的銀行一樣，修改「匯率」（點數兌換規則）、大額轉帳（批次調整點數）都需要輸入家長 PIN
                            碼。這個設計不只是為了防止孩子偷改，更重要的是：它在無形中告訴孩子「這個系統是認真的、嚴肅的」。當規則有了儀式感，孩子會更認真看待自己的每個選擇。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SYSTEM FEATURES SECTION -->
    <section class="section" id="system" style="background: white; padding: 8rem 0; border-top: 1px solid #f0f0f0;">
        <div class="container">
            <div class="section-header">
                <h2 style="font-size: 2.5rem; margin-bottom: 1.5rem; font-weight: 900;">
                    貼心、方便、<span class="highlight">符合教養守則</span>的系統功能
                </h2>
                <p class="section-desc">
                    不只是理念，更是每個細節都為家庭精心設計的實用工具
                </p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 3rem; margin-bottom: 4rem;">
                <!-- 視覺化願望清單 -->
                <div style="background: var(--bg); padding: 2.5rem; border-radius: 25px; border: 2px solid var(--ink);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #fff5f3, #ffe8e3); display: flex; align-items: center; justify-content: center; color: var(--accent);">
                            <i data-lucide="image" size="24"></i>
                        </div>
                        <h3 style="font-size: 1.3rem; font-weight: 700; margin: 0;">願望視覺化管理</h3>
                    </div>
                    <p style="color: #666; line-height: 1.8;">
                        讓獎勵具象化！支援<strong>拍照上傳願望目標</strong>（如樂高、Switch），系統會自動將照片雲端同步。孩子每天看著想要的東西進度一點點增加，內在驅動力比任何說教都有效。
                    </p>
                </div>
                <!-- 彈性配額設定 -->
                <div style="background: var(--bg); padding: 2.5rem; border-radius: 25px; border: 2px solid var(--ink);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #fff5f3, #ffe8e3); display: flex; align-items: center; justify-content: center; color: var(--accent);">
                            <i data-lucide="calendar" size="24"></i>
                        </div>
                        <h3 style="font-size: 1.3rem; font-weight: 700; margin: 0;">平日/假日彈性配額</h3>
                    </div>
                    <p style="color: #666; line-height: 1.8;">
                        平日功課多、週末該放鬆？系統支援「平日上限」與「假日上限」分開設定。例如：平日 50 分鐘、假日 90 分鐘，自動識別當天類型套用規則。
                    </p>
                </div>

                <!-- 多重兌換選項 -->
                <div style="background: var(--bg); padding: 2.5rem; border-radius: 25px; border: 2px solid var(--ink);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #fff5f3, #ffe8e3); display: flex; align-items: center; justify-content: center; color: var(--accent);">
                            <i data-lucide="repeat" size="24"></i>
                        </div>
                        <h3 style="font-size: 1.3rem; font-weight: 700; margin: 0;">點數多元兌換</h3>
                    </div>
                    <p style="color: #666; line-height: 1.8;">
                        點數不只換螢幕時間！可自訂「點數→分鐘」和「點數→零用錢」的匯率。讓孩子學會在不同需求間取捨：要換遊戲時間，還是存錢買玩具？
                    </p>
                </div>

                <!-- 即時歷史紀錄 -->
                <div style="background: var(--bg); padding: 2.5rem; border-radius: 25px; border: 2px solid var(--ink);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #fff5f3, #ffe8e3); display: flex; align-items: center; justify-content: center; color: var(--accent);">
                            <i data-lucide="history" size="24"></i>
                        </div>
                        <h3 style="font-size: 1.3rem; font-weight: 700; margin: 0;">完整歷史軌跡</h3>
                    </div>
                    <p style="color: #666; line-height: 1.8;">
                        每一筆加減點、兌換紀錄都完整保留，包含時間、原因、操作者。孩子可隨時查看自己的「努力履歷」，家長也能回顧教養軌跡。
                    </p>
                </div>

                <!-- 批次管理 -->
                <div style="background: var(--bg); padding: 2.5rem; border-radius: 25px; border: 2px solid var(--ink);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #fff5f3, #ffe8e3); display: flex; align-items: center; justify-content: center; color: var(--accent);">
                            <i data-lucide="zap" size="24"></i>
                        </div>
                        <h3 style="font-size: 1.3rem; font-weight: 700; margin: 0;">批次快速調整</h3>
                    </div>
                    <p style="color: #666; line-height: 1.8;">
                        多個孩子一起大掃除？可勾選多人、一次性調整點數。支援自訂理由，讓每次調整都有清楚的脈絡可循。
                    </p>
                </div>



                <!-- 主題切換 -->
                <div style="background: var(--bg); padding: 2.5rem; border-radius: 25px; border: 2px solid var(--ink);">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #fff5f3, #ffe8e3); display: flex; align-items: center; justify-content: center; color: var(--accent);">
                            <i data-lucide="palette" size="24"></i>
                        </div>
                        <h3 style="font-size: 1.3rem; font-weight: 700; margin: 0;">雙主題風格切換</h3>
                    </div>
                    <p style="color: #666; line-height: 1.8;">
                        提供「Cyber 霓虹」和「Warm 手繪」兩種視覺風格，讓每個家庭選擇喜歡的介面。切換即時生效，全家裝置同步。
                    </p>
                </div>
            </div>

            <div
                style="background: linear-gradient(135deg, var(--accent-soft) 0%, #fff 100%); padding: 3.5rem; border-radius: 30px; border: 2px solid var(--ink); text-align: center;">
                <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--ink);">
                    ⚡ 更多貼心細節
                </h3>
                <div
                    style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; max-width: 800px; margin: 0 auto;">
                    <div>
                        <div style="font-weight: 700; margin-bottom: 0.5rem;">📱 響應式設計</div>
                        <div style="font-size: 0.9rem; color: #666;">手機、平板、電腦都完美顯示</div>
                    </div>
                    <div>
                        <div style="font-weight: 700; margin-bottom: 0.5rem;">🔄 即時同步</div>
                        <div style="font-size: 0.9rem; color: #666;">0.5秒內全家裝置資料對齊</div>
                    </div>
                    <div>
                        <div style="font-weight: 700; margin-bottom: 0.5rem;">🔒 PIN碼保護</div>
                        <div style="font-size: 0.9rem; color: #666;">敏感操作需家長密碼驗證</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- INTERACTIVE DEMO SECTION -->
    <section class="section" id="demo"
        style="background: #fdfcf9; padding: 8rem 0; border-top: 2px solid var(--ink); position: relative; overflow: hidden;">
        <!-- Background Grid Pattern -->
        <div
            style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.4; background-image: radial-gradient(#d8d0c8 1.2px, transparent 1.2px); background-size: 30px 30px;">
        </div>

        <div class="container" style="position: relative; z-index: 1;">
            <!-- New Main Section Header -->
            <div class="section-header" style="text-align: center; margin-bottom: 2rem;">
                <h2 style="font-size: clamp(1.8rem, 5vw, 2.5rem); margin-bottom: 1rem; font-weight: 900;">
                    體驗<span class="highlight">讓存摺代替碎念</span>
                </h2>
                <p class="section-desc" style="font-size: 0.95rem; margin-bottom: 0;">
                    試試看「發放時間額度」或手動增減點數。<br>觀察看看：當規則透明時，孩子的帳戶會發生什麼變化？
                </p>
            </div>

            <!-- Demo Interface Wrapper -->
            <div class="demo-wrapper"
                style="background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); border: 3px solid var(--ink); border-radius: 40px; padding: 3rem; box-shadow: 10px 10px 0 rgba(0,0,0,0.05);">

                <!-- Interface Header Control -->
                <div style="margin-bottom: 1.5rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; border-bottom: 2px dashed var(--deco); padding-bottom: 1rem;"
                    class="demo-header-control">
                    <div>
                        <h3
                            style="font-size: clamp(1.2rem, 4vw, 1.8rem); font-weight: 900; color: var(--ink); font-style: italic; margin: 0; display: flex; align-items: center; gap: 0.5rem; line-height: 1;">
                            <i data-lucide="layout-dashboard"
                                style="color: var(--accent); width: 24px; height: 24px;"></i>
                            預覽儀表板
                        </h3>
                    </div>
                    <div style="display: flex; gap: 0.8rem; align-items: center; flex-wrap: wrap;"
                        class="demo-controls">
                        <div
                            style="background: #fff; padding: 3px; border-radius: 14px; display: flex; gap: 3px; border: 2px solid var(--ink);">
                            <button onclick="setDemoPlan('weekday')" id="btn-weekday"
                                style="padding: 0.3rem 0.8rem; border-radius: 10px; border: none; font-weight: 900; transition: all 0.3s; cursor: pointer; background: var(--ink); color: white; font-size: 0.8rem;">平日</button>
                            <button onclick="setDemoPlan('holiday')" id="btn-holiday"
                                style="padding: 0.3rem 0.8rem; border-radius: 10px; border: none; font-weight: 900; transition: all 0.3s; cursor: pointer; background: transparent; color: #888; font-size: 0.8rem;">假日</button>
                        </div>
                        <button onclick="applyBatchDemoAllocation()"
                            style="background: #ff8a80; color: white; border: 2px solid var(--ink); padding: 0.5rem 1rem; border-radius: 14px; font-weight: 900; display: flex; align-items: center; gap: 0.4rem; cursor: pointer; box-shadow: 2px 2px 0 var(--ink); transition: all 0.2s; font-size: 0.85rem;">
                            發放時間額度
                        </button>
                    </div>
                </div>

                <!-- Demo Kids Grid -->
                <div id="demoKidsGrid"
                    style="display: grid; grid-template-columns: 1fr; gap: 2rem; margin-bottom: 3rem;">
                    <!-- Cards will be injected by JS -->
                </div>

                <!-- Admin Control Panel -->
                <div
                    style="background: white; border: 2px solid var(--ink); border-radius: 30px; padding: 0; overflow: hidden; box-shadow: 8px 8px 0 var(--deco);">
                    <div
                        style="background: #fffafa; padding: 1.2rem 2rem; border-bottom: 2px solid var(--ink); display: flex; justify-content: space-between; align-items: center;">
                        <h3
                            style="font-size: 1.1rem; font-weight: 900; color: var(--ink); margin: 0; display: flex; align-items: center; gap: 0.8rem;">
                            <i data-lucide="settings-2" style="color: #666;"></i>
                            家長管理控制台
                        </h3>
                    </div>
                    <div style="padding: 2rem;">
                        <!-- Kid Selection Pills -->
                        <div id="demoKidSelection"
                            style="display: flex; gap: 0.8rem; margin-bottom: 2rem; flex-wrap: wrap;">
                            <!-- Pills injected by JS -->
                        </div>

                        <div class="demo-admin-grid-wrapper">
                            <div class="demo-input-group">
                                <label
                                    style="display: flex; align-items: center; gap: 0.4rem; font-size: 0.8rem; font-weight: 900; color: #888; margin-bottom: 0.6rem; text-transform: uppercase;">
                                    <i data-lucide="star" size="14"></i> 點數調整
                                </label>
                                <input type="number" id="manualDemoPoints" placeholder="例如: +10 / -5"
                                    style="width: 100%; border: 2px solid var(--ink); padding: 0.6rem; border-radius: 12px; font-weight: 700; text-align: center; font-size: 1rem; background: #fdfcf9;">
                            </div>
                            <div class="demo-input-group">
                                <label
                                    style="display: flex; align-items: center; gap: 0.4rem; font-size: 0.8rem; font-weight: 900; color: #888; margin-bottom: 0.4rem; text-transform: uppercase;">
                                    <i data-lucide="monitor" size="14"></i> 分鐘調整
                                </label>
                                <input type="number" id="manualDemoMinutes" placeholder="例如: +30"
                                    style="width: 100%; border: 2px solid var(--ink); padding: 0.6rem; border-radius: 12px; font-weight: 700; text-align: center; font-size: 1rem; background: #fdfcf9;">
                            </div>
                            <div class="demo-input-group">
                                <label
                                    style="display: flex; align-items: center; gap: 0.4rem; font-size: 0.8rem; font-weight: 900; color: #888; margin-bottom: 0.4rem; text-transform: uppercase;">
                                    <i data-lucide="edit-3" size="14"></i> 說明原因
                                </label>
                                <input type="text" id="manualDemoReason" placeholder="例如: 獎勵"
                                    style="width: 100%; border: 2px solid var(--ink); padding: 0.6rem; border-radius: 12px; font-weight: 700; text-align: center; font-size: 1rem; background: #fdfcf9;">
                            </div>
                        </div>
                    </div>

                    <button onclick="applyManualDemoUpdate()"
                        style="width: 100%; background: var(--ink); color: white; border: none; padding: 1.2rem; border-radius: 20px; font-weight: 900; font-size: 1.1rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 0.5rem; box-shadow: 0 10px 20px -5px rgba(0,0,0,0.2);">
                        執行更新 🚀
                    </button>
                </div>
            </div>
        </div>

        <div style="margin-top: 3rem; text-align: center;">
            <p style="color: #888; font-size: 0.95rem; font-weight: 500;">
                💡 <strong>體驗提示</strong>：這是一個部分仿真的功能Demo，數據僅保存在您的瀏覽器中。
                <a href="https://points-bank.vercel.app"
                    style="color: var(--accent); font-weight: 700; text-decoration: underline; margin-left: 0.5rem;">開啟真實系統入口
                    →</a>
            </p>
        </div>
        </div>

        <style>
            .demo-card {
                background: white;
                border: 4px solid var(--ink);
                border-radius: 40px 10px 35px 15px;
                box-shadow: 10px 10px 0 rgba(74, 74, 74, 0.15);
                padding: 2rem;
                display: flex;
                flex-direction: column;
                position: relative;
                overflow: hidden;
                transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            }

            .demo-card:hover {
                transform: translateY(-8px) scale(1.01);
                box-shadow: 15px 15px 0 rgba(74, 74, 74, 0.15);
            }

            .demo-dashed-divider {
                width: 2px;
                height: 40px;
                background-image: linear-gradient(to bottom, var(--ink) 33%, rgba(255, 255, 255, 0) 0%);
                background-position: right;
                background-size: 2px 6px;
                background-repeat: repeat-y;
                opacity: 0.2;
            }

            .demo-btn-act {
                background: var(--btn-bg);
                color: var(--btn-color);
                border: 2px solid var(--ink);
                border-bottom-width: 4px;
                border-radius: 12px;
                font-weight: 900;
                padding: 0.6rem;
                cursor: pointer;
                transition: all 0.2s;
                font-size: 0.9rem;
                text-transform: uppercase;
                letter-spacing: 0.05em;
            }

            .demo-btn-act:hover {
                transform: translateY(-2px);
                filter: brightness(0.95);
            }

            .demo-btn-act:active {
                transform: translateY(2px);
                border-bottom-width: 2px;
            }

            .demo-btn-big {
                border: 2px solid var(--ink);
                border-bottom-width: 4px;
                border-radius: 14px;
                font-weight: 900;
                padding: 0.8rem;
                cursor: pointer;
                transition: all 0.2s;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
                font-size: 1rem;
            }

            .demo-btn-big:hover {
                transform: translateY(-2px);
                filter: brightness(0.95);
            }

            .demo-btn-big:active {
                transform: translateY(2px);
                border-bottom-width: 2px;
            }

            .demo-pill {
                padding: 0.6rem 1.2rem;
                border-radius: 16px;
                border: 2px solid var(--ink);
                font-weight: 900;
                cursor: pointer;
                transition: all 0.2s;
                background: white;
                color: #444;
                font-size: 0.95rem;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .demo-pill:hover {
                transform: scale(1.05);
                background: #f5f5f5;
            }

            .demo-pill.selected {
                background: var(--accent);
                color: white;
                border-color: var(--ink);
                box-shadow: 4px 4px 0 var(--ink);
            }

            .demo-admin-grid-wrapper {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 1.5rem;
                margin-bottom: 2rem;
            }

            @media (max-width: 768px) {
                .demo-wrapper {
                    padding: 1.5rem !important;
                    border-radius: 25px !important;
                }

                .demo-card {
                    padding: 1.5rem !important;
                    border-radius: 30px !important;
                }

                .demo-admin-grid-wrapper {
                    grid-template-columns: 1fr;
                }

                .demo-header-control {
                    flex-direction: column;
                    align-items: flex-start !important;
                }

                .demo-controls {
                    width: 100%;
                    justify-content: space-between;
                }
            }
        </style>
    </section>



    <!-- CTA SECTION -->
    <!-- DISCLAIMER SECTION -->
    <section class="section" id="disclaimer" style="background: var(--bg); padding: 4rem 0;">
        <div class="container">
            <div class="disclaimer-box"
                style="max-width: 800px; margin: 0 auto; background: #fffdf9; border: 2px dashed var(--accent); border-radius: 30px; padding: clamp(1.5rem, 5vw, 3rem); position: relative;">
                <div
                    style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); background: var(--accent); color: white; padding: 0.5rem 1.5rem; border-radius: 50px; font-weight: 900; letter-spacing: 1px; font-size: 0.9rem; width: max-content; max-width: 90%; white-space: nowrap;">
                    溫馨提醒：這是一場全家人的實驗
                </div>
                <h3
                    style="text-align: center; margin-bottom: 2rem; font-weight: 900; color: var(--ink); font-size: 1.8rem; line-height: 1.4;">
                    沒有「完美」的系統<br>
                    只有「一致」的陪伴
                </h3>
                <div style="font-size: 1.1rem; line-height: 1.9; color: #444;">
                    <p style="margin-bottom: 2rem; text-align: center;">
                        Points Bank 是一個輔助工具，但<strong>它並不會自動教出會自律的孩子</strong>。<br>
                        真正的自律，來自於您與孩子之間穩定的信任，以及全家人對規則的一致守護。
                    </p>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 1.5rem;">
                        <div
                            style="display: flex; gap: 1.2rem; align-items: start; background: white; padding: 1.5rem; border-radius: 20px; border: 1px solid #fee;">
                            <i data-lucide="shield-check" style="color: var(--accent); flex-shrink: 0; margin-top: 4px;"
                                size="24"></i>
                            <div>
                                <strong
                                    style="color: var(--ink); display: block; margin-bottom: 0.4rem;">全家人的一致性</strong>
                                <span
                                    style="font-size: 0.95rem; color: #666;">如果媽媽嚴格執行點數制，但爸爸或阿公阿嬤私下「大放送」，系統將會失效。請確保家中所有主要照顧者都達成共識。</span>
                            </div>
                        </div>
                        <div
                            style="display: flex; gap: 1.2rem; align-items: start; background: white; padding: 1.5rem; border-radius: 20px; border: 1px solid #fee;">
                            <i data-lucide="heart-handshake"
                                style="color: var(--accent); flex-shrink: 0; margin-top: 4px;" size="24"></i>
                            <div>
                                <strong
                                    style="color: var(--ink); display: block; margin-bottom: 0.4rem;">討論而非命令</strong>
                                <span
                                    style="font-size: 0.95rem; color: #666;">建議開始使用前，先與孩子來一場「家庭會議」。討論為什麼要用點數、兌換規則是什麼，讓孩子參與制定，而非單方面被強制執行。</span>
                                <br><br>
                                <a href="family-meeting.html"
                                    style="color: var(--accent); font-weight: 900; display: inline-flex; align-items: center; gap: 0.5rem; text-decoration: none; font-size: 0.95rem;">
                                    👉 不知道怎麼開口？前往「家庭會議室」讓動畫幫您說 <i data-lucide="arrow-right" size="16"></i>
                                </a>
                            </div>
                        </div>
                        <div
                            style="display: flex; gap: 1.2rem; align-items: start; background: white; padding: 1.5rem; border-radius: 20px; border: 1px solid #fee;">
                            <i data-lucide="refresh-cw" style="color: var(--accent); flex-shrink: 0; margin-top: 4px;"
                                size="24"></i>
                            <div>
                                <strong
                                    style="color: var(--ink); display: block; margin-bottom: 0.4rem;">動態調整的彈性</strong>
                                <span
                                    style="font-size: 0.95rem; color: #666;">規則不是死的。如果發現點數太難賺或太容易換到，請隨時修正。這個系統是為了服務您的生活，而不是讓生活被系統綁架。</span>
                            </div>
                        </div>
                    </div>
                    <p
                        style="text-align: center; font-style: italic; color: #888; margin-top: 2.5rem; border-top: 1px dashed #eee; padding-top: 1.5rem; font-size: 0.95rem;">
                        「好的系統是輔助輪，最終目的是為了讓孩子學會自己騎車。」
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="section cta">
        <div class="container">
            <div class="cta-box">
                <svg class="deco" style="top: -18px; right: -18px; width: 50px; transform: rotate(12deg);"
                    viewBox="0 0 100 100">
                    <path d="M10,50 L30,38 L50,60 L70,28 L90,50" fill="none" stroke="var(--accent)" stroke-width="3"
                        stroke-linecap="round" />
                </svg>

                <h3>準備好開啟這段<br>溫柔的教養實驗了嗎？</h3>
                <a href="https://points-bank.vercel.app" class="btn-primary"
                    style="animation: pulse 2s ease-in-out infinite;">
                    現在就進入家庭入口
                    <i data-lucide="sparkles" size="20"></i>
                </a>

                <!-- 可展開的常見問題 -->
                <div id="faq" style="max-width: 700px; margin: 4rem auto 0; text-align: left;">
                    <h4 style="text-align: center; font-size: 1.3rem; margin-bottom: 2rem; font-weight: 700;">💬 快速解答
                    </h4>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>🚀 我要怎麼開始？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                建議您不要直接宣佈「明天開始實施」，這樣孩子可能會覺得被剝奪而反彈。第一步，請先到 <a href="family-meeting.html"
                                    style="color: var(--accent); font-weight: 700;">家庭會議室</a>
                                播放給孩子看的動畫，讓有趣的故事幫您開場。接著參考「給家長看的指南」，與孩子一起討論並制定規則。當孩子參與了規則的制定，他們會更願意遵守喔！
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>📱 需要下載 App 嗎？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                不需要！這是一個網頁應用，直接用瀏覽器開啟就能使用。可以把網址加到手機桌面，像 App 一樣方便。</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>💰 需要付費嗎？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                完全免費！這是為了幫助更多家庭建立良好的數位使用習慣而打造的工具。若是真的能幫上家長的忙，不排除未來會加入一些更有趣的加值功能，但不用擔心，目前已完成的功能都會繼續維持免費。
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>🔒 資料安全嗎？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">使用 Supabase
                                企業級資料庫，所有資料都經過加密。每個家庭的資料完全獨立，只有擁有家庭代碼的成員才能存取。</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>🔑 為什麼要登入 Google 帳號？密碼安全嗎？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                為了確保您的資料安全與同步，Points Bank 使用 Google 帳號進行身分驗證。這代表我們<strong>不會</strong>接觸或儲存您的 Google
                                密碼。此應用程式僅會取得您的 Email 與頭像作為識別，所有的驗證過程皆由 Google 安全處理，請放心使用。
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>👶 適合幾歲的孩子？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                其實 <strong>3~4 歲</strong>就可以開始嘗試！雖然這個年紀的數字概念可能還不成熟，但 Points Bank
                                運用了<strong>圖像化的進度條</strong>，孩子不需要精通數學，只要看著顏色的消長就能直觀理解概念。可以將這個系統視為一個實驗計畫，歡迎家長帶著小小孩一起試試看。
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>🧹 可以用點數獎勵做家事或考一百分嗎？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                這完全由您決定！雖然我們原本的設計哲學傾向於將點數專注於「資源交換」（時間換快樂），避免外部獎勵削弱孩子對家事或學習的責任感。但<strong>教養沒有標準答案</strong>。有些家庭將其作為特殊任務（如年終大掃除）的獎勵，或養成新習慣初期的增強物，效果也很好。系統保留了最大的彈性，讓您依據孩子的特質靈活運用。
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>📈 孩子點數存太多換不完怎麼辦？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                這是好事！代表孩子學會了自制。您可以考慮：<br>
                                1. <strong>提高兌換門檻</strong>（順便教一點通貨膨脹的概念？）<br>
                                2. 新增<strong>「高價商品」</strong>（如去遊樂園），讓孩子練習長期儲蓄。<br>
                                重點是信守承諾，讓孩子相信儲蓄是有意義的。
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; font-weight: 700;">
                            <span>⚖️ 點數：時間：現金的比例，要設定多少？</span>
                            <i data-lucide="chevron-down" size="20"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="margin-top: 1rem; color: #666; line-height: 1.8;">
                                我們提供的預設比例是 <strong>1:2:5</strong>。這代表如果孩子願意少看 20 分鐘的電視，就能獲得 10 點，相當於 50
                                元的現金價值。這個比例是為了鼓勵小朋友減少螢幕時間而設計的。當然，爸爸媽媽們隨時都能修改，找出最適合你們家的比例喔！
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-logo">POINTS BANK</div>
            <p>
                Created by <a href="https://evelynytliu.github.io/" target="_blank">Evelyn YT Liu</a>
            </p>
            <p class="footer-copy">
                © 2025 ALL RIGHTS RESERVED | POWERED BY LOVE & CODE
            </p>
        </div>
    </footer>

    <script>
        // Ensure icons are created after DOM is fully loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function () {
                lucide.createIcons();
            });
        } else {
            lucide.createIcons();
        }

        // === SCROLL ANIMATIONS ===
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Add fade-in animation to all feature cards and philosophy items
        document.addEventListener('DOMContentLoaded', () => {
            const animatedElements = document.querySelectorAll('.feature-card, .philosophy-item, .section-header, .disclaimer-box');
            animatedElements.forEach((el, index) => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
                observer.observe(el);
            });

            // === FAQ TOGGLE FUNCTIONALITY ===
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.stopPropagation();
                    this.classList.toggle('active');
                    console.log('FAQ clicked, now active:', this.classList.contains('active'));
                });
            });

            // === HAMBURGER MENU TOGGLE ===
            const hamburger = document.getElementById('hamburger');
            const navLinks = document.getElementById('navLinks');

            if (hamburger && navLinks) {
                hamburger.addEventListener('click', () => {
                    hamburger.classList.toggle('active');
                    navLinks.classList.toggle('active');
                });

                // Close menu when clicking on a link
                navLinks.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        hamburger.classList.remove('active');
                        navLinks.classList.remove('active');
                    });
                });
            }

            // === DOODLE DEMO FUNCTIONALITY ===
            window.demoKids = [
                { id: 'd1', name: 'MARIO', avatar: '⚡', points: 58, minutes: 30, limit: 30, goal: { title: '樂高城堡', target_points: 100 } },
                { id: 'd2', name: 'LUIGI', avatar: '🚀', points: 12, minutes: 30, limit: 30, goal: null }
            ];
            window.demoPlan = 'weekday';
            window.demoSelectedIds = ['d1', 'd2'];

            function renderDemoKids() {
                const grid = document.getElementById('demoKidsGrid');
                const selection = document.getElementById('demoKidSelection');
                if (!grid || !selection) return;

                // Render Cards
                grid.innerHTML = demoKids.map((kid, index) => {
                    const progress = Math.min(100, (kid.minutes / kid.limit) * 100);
                    const canRedeemMins = Math.floor(kid.points * 2);
                    const canRedeemMoney = Math.floor(kid.points * 5);
                    const isDanger = progress <= 10;
                    const isWarning = progress > 10 && progress <= 30;

                    const barColor = isDanger ? '#ff8a80' : (isWarning ? '#ffd180' : '#88d8b0');

                    return `
                    <div class="demo-card animate-pop-in" style="animation-delay: ${index * 0.1}s">
                        
                        <!-- Header: Avatar & Name -->
                        <div style="display: flex; flex-direction: column; md:flex-row; gap: 1.5rem; margin-bottom: 2rem;">
                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 56px; height: 56px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; background: white; border: 2px solid var(--ink); box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                                        ${kid.avatar}
                                    </div>
                                    <h3 style="font-size: 2rem; font-weight: 900; font-style: italic; color: var(--ink); margin: 0; text-transform: uppercase;">
                                        ${kid.name}
                                    </h3>
                                </div>
                            </div>

                            <!-- Values Block (Points & Rewards) -->
                            <div style="
                                display: flex; 
                                align-items: center; 
                                justify-content: space-between;
                                padding: 1rem 1.5rem;
                                border-top: 2px dashed rgba(74,74,74,0.1);
                                border-bottom: 2px dashed rgba(74,74,74,0.1);
                                margin-top: 0.5rem;">
                                
                                <!-- Points -->
                                <div style="display: flex; flex-direction: column; align-items: center; min-width: 80px;">
                                    <div style="font-size: 0.75rem; font-weight: 900; color: var(--accent); text-transform: uppercase; letter-spacing: 0.1em; display: flex; align-items: center; gap: 0.3rem;">
                                        <i data-lucide="star" size="12" fill="currentColor"></i> 點數
                                    </div>
                                    <div id="demo-points-${kid.id}" style="font-size: 2.8rem; font-weight: 900; font-style: italic; line-height: 1; color: var(--ink);">
                                        ${kid.points}
                                    </div>
                                </div>

                                <!-- Vertical Divider -->
                                <div class="demo-dashed-divider"></div>

                                <!-- Rewards & Goal -->
                                <div style="text-align: right; display: flex; flex-direction: column; align-items: flex-end; justify-content: center; gap: 0.2rem;">
                                    ${kid.goal ? `
                                        <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 0.2rem; margin-bottom: 0.2rem;">
                                            <div style="display: flex; align-items: center; gap: 0.3rem;" title="${kid.goal.title}">
                                               <span style="font-size: 1.2rem; filter: drop-shadow(0 2px 0 rgba(0,0,0,0.1)); animation: pulse 2s ease-in-out infinite;">🎯</span>
                                               <span style="font-weight: 900; color: var(--ink); font-size: 0.9rem;">${kid.goal.title}</span>
                                            </div>
                                            <div style="width: 60px; height: 5px; background: rgba(0,0,0,0.05); border-radius: 999px; overflow: hidden; border: 1px solid rgba(0,0,0,0.1);">
                                                <div style="height: 100%; width: ${Math.min(100, (kid.points / (kid.goal.target_points || 1)) * 100)}%; background: #ff8a80; border-radius: 999px; transition: width 0.5s ease;"></div>
                                            </div>
                                        </div>
                                    ` : `
                                        <div style="font-size: 0.8rem; color: #888; margin-bottom: 0.2rem; display: flex; align-items: center; gap: 0.3rem;">
                                            <i data-lucide="plus-circle" size="14"></i> 未設定願望
                                        </div>
                                    `}
                                    
                                    <div style="font-size: 1.1rem; font-weight: 900; font-style: italic; color: var(--ink); display: flex; align-items: center; justify-content: flex-end; gap: 0.4rem;">
                                        <i data-lucide="monitor" size="16" style="color: var(--accent)"></i> 
                                        <span id="demo-redeem-mins-${kid.id}">${canRedeemMins}</span> <span style="font-size: 0.7rem; font-style: normal; opacity: 0.6;">分鐘</span>
                                    </div>
                                    <div style="font-size: 1.1rem; font-weight: 900; font-style: italic; color: var(--ink); display: flex; align-items: center; justify-content: flex-end; gap: 0.4rem;">
                                        <i data-lucide="coins" size="16" style="color: #4caf50"></i> 
                                        <span id="demo-redeem-money-${kid.id}">${canRedeemMoney}</span> <span style="font-size: 0.7rem; font-style: normal; opacity: 0.6;">$</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Progress Bar (Minutes) -->
                        <div style="margin-bottom: 1.5rem;">
                            <div style="position: relative; width: 100%; height: 44px; background: #eee; border: 2px solid var(--ink); border-radius: 12px; overflow: hidden; display: flex; align-items: center; justify-content: center;">
                                <div id="demo-progress-${kid.id}" style="position: absolute; top: 0; left: 0; height: 100%; width: ${progress}%; background: ${barColor}; border-right: 2px solid rgba(74,74,74,0.1); transition: width 0.5s ease, background 0.3s ease;"></div>
                                
                                <div style="position: relative; z-index: 2; font-weight: 900; display: flex; align-items: center; gap: 0.5rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--ink);">
                                    <i data-lucide="monitor" size="16"></i> 
                                    <span style="font-size: 1.1rem;"><span id="demo-mins-${kid.id}">${kid.minutes}</span> <span style="font-size: 0.8rem">分鐘</span></span>
                                </div>
                                <div style="position: absolute; right: 1rem; z-index: 2; font-weight: 900; color: var(--ink); opacity: 0.4;">
                                    / ${kid.limit}
                                </div>
                            </div>
                        </div>

                        <!-- Quick Deduct Buttons -->
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.6rem; margin-bottom: 0.8rem;">
                            <button onclick="adjustDemoKid('${kid.id}', 0, -10, '使用時間')" class="demo-btn-act" style="--btn-color: #d32f2f; --btn-bg: #fbe9e7;">-10</button>
                            <button onclick="adjustDemoKid('${kid.id}', 0, -20, '使用時間')" class="demo-btn-act" style="--btn-color: #d32f2f; --btn-bg: #fbe9e7;">-20</button>
                            <button onclick="adjustDemoKid('${kid.id}', 0, -30, '使用時間')" class="demo-btn-act" style="--btn-color: #d32f2f; --btn-bg: #fbe9e7;">-30</button>
                            <button onclick="adjustDemoCardIndividual('${kid.id}')" class="demo-btn-act" style="--btn-color: var(--ink); --btn-bg: #fafafa; font-size: 0.8rem;">自訂</button>
                        </div>

                        <!-- Exchange Buttons -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.6rem;">
                            <button onclick="demoExchangeToPoints('${kid.id}')" class="demo-btn-big" style="background: #edf2f4; color: var(--ink);">
                                <i data-lucide="monitor" size="18"></i> ➔ <i data-lucide="star" size="18" style="color: #ff9800"></i>
                            </button>
                            <button onclick="demoExchangeToTime('${kid.id}')" class="demo-btn-big" style="background: #e8f5e9; color: #2e7d32;">
                                <i data-lucide="star" size="18" style="color: #ff9800"></i> ➔ <i data-lucide="monitor" size="18"></i>
                            </button>
                        </div>

                    </div>
                    `;
                }).join('');

                // Render Selection Pills using new style
                selection.innerHTML = demoKids.map(kid => `
                    <button onclick="toggleDemoKidSelection('${kid.id}')" class="demo-pill ${demoSelectedIds.includes(kid.id) ? 'selected' : ''}">
                        ${demoSelectedIds.includes(kid.id) ? '<i data-lucide="check-circle-2" size="16"></i>' : ''} ${kid.name}
                    </button>
                `).join('');

                lucide.createIcons();
            }

            function getProgressBarColor(p) {
                if (p <= 10) return '#ff8a80'; // Danger
                if (p <= 30) return '#ffd180'; // Warning
                return '#88d8b0'; // Normal
            }

            function updateKidVisuals(id) {
                const kid = demoKids.find(k => k.id === id);
                if (!kid) return;

                animateNumber(document.getElementById(`demo-points-${id}`), kid.points);
                animateNumber(document.getElementById(`demo-mins-${id}`), kid.minutes);
                animateNumber(document.getElementById(`demo-redeem-mins-${id}`), Math.floor(kid.points * 2));
                animateNumber(document.getElementById(`demo-redeem-money-${id}`), Math.floor(kid.points * 5));

                const progress = (kid.minutes / kid.limit) * 100;
                const progressEl = document.getElementById(`demo-progress-${id}`);
                if (progressEl) {
                    progressEl.style.width = `${progress}%`;
                    progressEl.style.background = getProgressBarColor(progress);
                }
            }

            window.setDemoPlan = function (plan) {
                demoPlan = plan;
                const limit = plan === 'weekday' ? 30 : 90;
                demoKids.forEach(k => { k.limit = limit; k.minutes = limit; });

                document.getElementById('btn-weekday').style.background = plan === 'weekday' ? 'var(--ink)' : 'transparent';
                document.getElementById('btn-weekday').style.color = plan === 'weekday' ? 'white' : '#888';
                document.getElementById('btn-holiday').style.background = plan === 'holiday' ? 'var(--ink)' : 'transparent';
                document.getElementById('btn-holiday').style.color = plan === 'holiday' ? 'white' : '#888';

                renderDemoKids();
            };

            window.toggleDemoKidSelection = function (id) {
                const index = demoSelectedIds.indexOf(id);
                if (index > -1) demoSelectedIds.splice(index, 1);
                else demoSelectedIds.push(id);
                renderDemoKids();
            };

            window.adjustDemoKid = function (id, pts, mins, reason) {
                const kid = demoKids.find(k => k.id === id);
                if (kid) {
                    kid.points = Math.max(0, kid.points + pts);
                    kid.minutes = Math.max(0, Math.min(kid.limit, kid.minutes + mins));
                    updateKidVisuals(id);

                    if (pts > 0) {
                        confetti({
                            particleCount: 50,
                            spread: 60,
                            origin: { y: 0.7 },
                            colors: ['#ff8a80', '#00e5ff', '#ffb74d']
                        });
                    }
                }
            };

            window.demoExchangeToPoints = function (id) {
                const kid = demoKids.find(k => k.id === id);
                if (kid && kid.minutes > 0) {
                    const minsToConvert = kid.minutes;
                    kid.points += Math.floor(minsToConvert / 2);
                    kid.minutes = 0;
                    updateKidVisuals(id);

                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 },
                        scalar: 1.2
                    });
                }
            };

            window.demoExchangeToTime = function (id) {
                const kid = demoKids.find(k => k.id === id);
                if (kid && kid.points >= 5) {
                    kid.points -= 5;
                    kid.minutes += 10;
                    updateKidVisuals(id);

                    confetti({
                        particleCount: 20,
                        spread: 30,
                        origin: { x: (id === 'd1' ? 0.3 : 0.7), y: 0.5 },
                        colors: ['#00e5ff']
                    });
                }
            };

            window.applyBatchDemoAllocation = function () {
                const limit = demoPlan === 'weekday' ? 30 : 90;
                demoKids.forEach(k => {
                    k.minutes = limit;
                    // Directly update minutes text since renderDemoKids might not be called? 
                    // Actually animate works on existing DOM.
                    // But if plan changed, limit changed.
                    // Let's just updateVisuals
                    updateKidVisuals(k.id);
                });

                confetti({
                    particleCount: 150,
                    spread: 100,
                    origin: { y: 0.8 },
                    colors: ['#ff8a80', '#ffffff']
                });
            };

            window.applyManualDemoUpdate = function () {
                const ptsInput = document.getElementById('manualDemoPoints');
                const minsInput = document.getElementById('manualDemoMinutes');
                const pts = parseInt(ptsInput.value) || 0;
                const mins = parseInt(minsInput.value) || 0;

                if (demoSelectedIds.length === 0) return alert('請先選擇要更新的孩子');

                demoKids.forEach(k => {
                    if (demoSelectedIds.includes(k.id)) {
                        k.points = Math.max(0, k.points + pts);
                        k.minutes = Math.max(0, Math.min(k.limit, k.minutes + mins));
                        updateKidVisuals(k.id);
                    }
                });

                if (pts > 0 || mins > 0) {
                    confetti({
                        particleCount: 80,
                        velocity: 30,
                        spread: 360,
                        origin: { y: 0.5 }
                    });
                }

                ptsInput.value = '';
                minsInput.value = '';
                document.getElementById('manualDemoReason').value = '';
            };

            // Initial Render
            renderDemoKids();
        });

        // === NUMBER COUNTER ANIMATION ===
        function animateNumber(element, target) {
            if (!element) return;
            const start = parseInt(element.textContent) || 0;
            const duration = 1000;
            let startTime = null;

            function animation(currentTime) {
                if (!startTime) startTime = currentTime;
                const progress = Math.min((currentTime - startTime) / duration, 1);
                const current = Math.floor(progress * (target - start) + start);

                // Add sign if target is positive/negative? No, just the number
                element.textContent = current;

                if (progress < 1) {
                    requestAnimationFrame(animation);
                } else {
                    element.textContent = target;
                }
            }
            requestAnimationFrame(animation);
        }

        // Trigger number animation when visible
        const numberObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.dataset.animated) {
                    const target = parseInt(entry.target.dataset.target);
                    animateNumber(entry.target, target);
                    entry.target.dataset.animated = 'true';
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('[data-counter]').forEach(el => {
                numberObserver.observe(el);
            });
        });

        // === PARALLAX EFFECT FOR DECORATIVE ELEMENTS ===
        document.addEventListener('mousemove', (e) => {
            const deco = document.querySelectorAll('.deco');
            const mouseX = e.clientX / window.innerWidth;
            const mouseY = e.clientY / window.innerHeight;

            deco.forEach((el, index) => {
                const speed = (index + 1) * 0.5;
                const x = (mouseX - 0.5) * speed * 20;
                const y = (mouseY - 0.5) * speed * 20;
                el.style.transform = `translate(${x}px, ${y}px)`;
            });
        });

        // === SMOOTH SCROLL ===
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>

</html>